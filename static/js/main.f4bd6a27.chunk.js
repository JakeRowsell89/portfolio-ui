(this["webpackJsonpportfolio-ui"]=this["webpackJsonpportfolio-ui"]||[]).push([[0],{68:function(e,a,t){e.exports=t(97)},73:function(e,a,t){},91:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(7),l=t.n(r),o=(t(73),t(33)),u=t(40),i=t(10),s=t(54),m=t.n(s),v=t(55),f=["#F87AFF","#AB1DE0","#8718F5","#4E16E0","#4940FF","#7B91FF","#3D1DE0","#8718F5","#BE0BE0","#FF29BB"],d={fontSize:"4px",fontFamily:"sans-serif"};var E=function(e){var a=e.assets;return console.log(a),c.a.createElement("div",{className:"Chart"},c.a.createElement("section",{className:"Chart-list"},c.a.createElement(v.PieChart,{label:function(e){var a=e.dataEntry;return"\n          ".concat(a.title,"\n          ").concat(Math.round(a.percentage)," %\n          ")},labelStyle:Object(o.a)({},d),data:a.filter((function(e){return e.value})).map((function(e,a){return{title:e.type,value:e.value,color:f[a]}}))})))},b=t(129),p=t(132),g=t(131),h=t(130),k=t(134),O=t(133);var y=function(e){var a=e.tracker;return c.a.createElement("div",{className:"Tracker"},c.a.createElement("section",{className:"Tracker-list"},"".concat(a.name," (").concat(a.type,") - ").concat(a.amount,"x").concat(a.price," = ").concat(a.value)))};t(91);var j=function(e){var a=e.stocks,t=e.addTracker,r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],u=l[1],s=Object(n.useState)(),m=Object(i.a)(s,2),v=m[0],f=m[1],d=Object(n.useState)(""),E=Object(i.a)(d,2),j=E[0],S=E[1],N=Object(n.useState)("stock"),A=Object(i.a)(N,2),C=A[0],w=A[1];return c.a.createElement("div",{className:"Trackers"},c.a.createElement("header",{className:"Trackers-header"},"My Trackers"),c.a.createElement("section",{className:"Trackers-list"},a.map((function(e,a){return c.a.createElement(y,{tracker:e,key:a})}))),o?c.a.createElement("form",{className:"stocks-form"},c.a.createElement(p.a,{onChange:function(e){S(e.target.value.trim())},label:"Asset Symbol",value:j,size:"medium"}),c.a.createElement(p.a,{onChange:function(e){f(Number(e.target.value.trim()))},label:"Amount",value:v,size:"medium"}),c.a.createElement(b.a,null,c.a.createElement(O.a,{id:"asset-type-input",shrink:!0},"Type"),c.a.createElement(g.a,{onChange:function(e){console.log(e.target.value.trim()),w(e.target.value.trim())},value:C,labelId:"asset-type-input"},c.a.createElement(k.a,{value:"bond"},"bond"),c.a.createElement(k.a,{value:"gold"},"gold"),"\xa0",c.a.createElement(k.a,{value:"stock"},"stock"))),c.a.createElement(h.a,{onClick:function(e){e.preventDefault(),j.length&&(t(j,v,C),f(null),S(""),w(""),u(!1))},variant:"outlined",color:"primary",size:"small"},"Save"),c.a.createElement(h.a,{onClick:function(){return u(!1)},variant:"outlined",color:"secondary",size:"small"},"Cancel")):c.a.createElement("div",{onClick:function(){return u(!0)}},c.a.createElement("span",{role:"img","aria-label":"Add new asset"}),"\u2795"))};var S=function(e){var a=e.name,t=e.value;return c.a.createElement("div",{className:"Account"},c.a.createElement("section",{className:"Account-list"},a," ",t))};t(95);var N=function(e){var a=e.accounts,t=e.addAccount,r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],u=l[1],s=Object(n.useState)(0),m=Object(i.a)(s,2),v=m[0],f=m[1],d=Object(n.useState)(!1),E=Object(i.a)(d,2),b=E[0],g=E[1];return c.a.createElement("div",{className:"Accounts"},c.a.createElement("header",{className:"Accounts-header"},"My Accounts"),c.a.createElement("section",{className:"Accounts-list"},a.map((function(e,a){return c.a.createElement(S,{name:e.name,value:e.value,key:a})}))),b?c.a.createElement("form",{className:"accounts-form"},c.a.createElement(p.a,{label:"Name",onChange:function(e){u(e.target.value.trim())},value:o,size:"medium"}),c.a.createElement(p.a,{label:"Balance",onChange:function(e){f(Number(e.target.value.trim()))},value:v,size:"medium"}),c.a.createElement(h.a,{onClick:function(e){e.preventDefault(),o.length&&(t(o,v),f(0),u(""),g(!1))},variant:"outlined",color:"primary",size:"small"},"Save"),c.a.createElement(h.a,{onClick:function(){return g(!1)},variant:"outlined",color:"secondary",size:"small"},"Cancel")):c.a.createElement("div",{onClick:function(){return g(!0)}},c.a.createElement("span",{role:"img","aria-label":"Add new account"},"\u2795")))};var A=function(e){var a=e.updateApiKey,t=e.handleAPIKeyChange;return c.a.createElement("form",null,c.a.createElement("input",{type:"text",onChange:t,placeholder:"Your alphavantage API key"}),c.a.createElement(h.a,{size:"small",variant:"outlined",onClick:a},"Go!"))};t(96);var C={};var w=function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],r=a[1],l=localStorage.getItem("bank_accounts")||"[]",s=Object(n.useState)(JSON.parse(l)),v=Object(i.a)(s,2),f=v[0],d=v[1],b=localStorage.getItem("stock_trackers")||"[]",p=Object(n.useState)(localStorage.getItem("alphavantage_api_key")),g=Object(i.a)(p,2),h=g[0],k=g[1],O=Object(n.useState)(JSON.parse(b)),y=Object(i.a)(O,2),S=y[0],w=y[1],I=Object(n.useState)(""),F=Object(i.a)(I,2),T=F[0],z=F[1];return Object(n.useEffect)((function(){for(var e=function(e){var a=S[e];C[a.name]||m.a.get("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(a.name,".L&apikey=").concat(h)).then((function(e){var t=e.data;console.log(t);var n=t["Global Quote"]["05. price"],c=function(e,a){var t=Number(a);return/^SGLN|INRG/.test(e)?t/100:t}(a.name,n),l=Object(o.a)(Object(o.a)({},a),{},{priceFromAPI:n,price:c,value:Math.round(100*(c*a.amount+Number.EPSILON))/100});if(console.log(l),r((function(e){return[].concat(Object(u.a)(e.filter((function(e){return e.name!==a.name}))),[l])})),!t&&t["Global Quote"])throw new Error("Possible API limit hit",JSON.stringify(t))})).catch(console.error),C[a.name]=!0},a=0;a<S.length;a++)e(a)})),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement(E,{assets:t.concat(f)}),c.a.createElement(N,{accounts:f,addAccount:function(e,a){var t=[].concat(Object(u.a)(f),[{name:e,value:a,type:"savings"}]);localStorage.setItem("bank_accounts",JSON.stringify(t)),d(t)}}),h?c.a.createElement(j,{stocks:t,addTracker:function(e,a,n){var c=[].concat(Object(u.a)(t),[{amount:a,name:e,type:n}]);localStorage.setItem("stock_trackers",JSON.stringify(c)),w(c),r(c)}}):c.a.createElement(A,{updateApiKey:function(e){e.preventDefault(),localStorage.setItem("alphavantage_api_key",T),k(T)},handleAPIKeyChange:function(e){return z(e.target.value.trim())}}),"Total portfolio value:"," ",t.reduce((function(e,a){return e+a.value}),0)+f.reduce((function(e,a){return e+a.value}),0)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.f4bd6a27.chunk.js.map